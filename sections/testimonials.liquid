<section class="testimonials">
    <h2 class="title">{{ section.settings.title }}</h2>
    <h4 class="quote">{{ section.settings.quote }}</h4>
    <section class="testimonials-cards">
        <ul>
            {%- for block in section.blocks -%}
                <li class="testimonial-cards-item">
                    <img src="{{ block.section.image | img_url: 'small' }}" alt="Profile picture">
                    <div>
                        {% for star in block.section.number-of-stars %}
                        <img src="{{ 'star.png' | asset_img_url }}" alt="">
                        
                        {% endfor %}
                    </div>
                </li>
                {% endfor %}
        </ul>
    </section>
</section>

{%- if section.blocks.size > 0 -%}
  {%- for block in section.blocks -%}
    <blockquote>
      {%- if block.settings.quote != blank -%}
        <p>
          {{ block.settings.quote }}
        </p>
      {%- endif -%}
    </blockquote>

    {%- if block.settings.author != blank -%}
      <cite>
        <a href="{{ block.settings.link }}">
          {{ block.settings.author }}
        </a>
      </cite>
    {%- endif -%}
  {%- endfor -%}
{%- endif -%}

<style>

</style>

{% schema %}
{
  "name": "Testimonials",
  "class": "index-section",
  "max_blocks": 3,
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Testimonials"
    },
    {
        "type": "text",
        "id": "quote",
        "label": "Quote",
        "default": "Some quotes from our happy customers"
    }
  ],
  "blocks": [
    {
      "type": "quote",
      "name": "Testimonial",
      "settings": [
        {
          "type": "richtext",
          "id": "quote",
          "label": "Text",
          "default": "<p>Add customer reviews and testimonials to showcase your store’s happy customers.</p>"
        },
        {
          "type": "text",
          "id": "author",
          "label": "Author",
          "default": "Author’s name"
        },
        {
          "type": "url",
          "id": "link",
          "label": "link"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Photo"
        },
        {
          "type": "number",
          "id": "number-of-stars",
          "label": "Stars"
        }        
      ]
    }
  ],
  "presets": [
    {
      "name": "Testimonials",
      "category": "Text",
      "blocks": [
        {
          "type": "quote"
        },
        {
          "type": "quote"
        },
        {
          "type": "quote"
        }
      ]
    }
  ]
}
{% endschema %}